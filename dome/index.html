<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>css动画效果</title>

    <style>
      .box {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        grid-template-rows: 40px;
        /* width: 600px; */
        height: 500px;
        border: 1px solid #333;
        margin: 0 auto;
      }
      .box2 {
        border: 1px solid #333;
        /* height: 100px; */
        justify-content: center;
      }
    </style>
  </head>

  <body>
    <button id="btn">防抖</button>
    <button id="btn2">节流</button>
    <p>我是一段文泵</p>
    <!-- 我是一段注解 -->
    <div class="box"></div>

    <table>
      <tr>
        <th>表格</th>
      </tr>
    </table>
  </body>

  <script>
    // function throttle(f, m) {
    //   let status = true;
    //   return function () {
    //     if (!status) return;
    //     status = false;
    //     setTimeout(() => {
    //       f.apply(this);
    //       status = true;
    //     }, m);
    //   };
    // }
    function throttle(f, m) {
      let lastTime = 0;
      return function () {
        let arg = Array.prototype.slice.call(arguments, 1);
        let newTime = Date.now();
        console.log(newTime - lastTime);
        if (newTime - lastTime > m) {
          setTimeout(function () {
            f.apply(this, arg);
          }, m);
        }
        lastTime = newTime;
      };
    }

    // 测试
    function fun() {
      console.log("防抖");
    }
    let test = throttle(fun, 1000);
    window.addEventListener("scroll", test);
    let btn2 = document.getElementById("btn2");
    btn2.addEventListener("click", test);
  </script>
</html>
